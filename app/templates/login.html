{% extends "base.html" %}

{% block title %}Iniciar Sesión - SaaSGenius{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <div class="auth-logo">
                <i class="fas fa-rocket"></i>
                <h1>SaaSGenius</h1>
            </div>
            <h2 class="auth-title">Bienvenido de vuelta</h2>
            <p class="auth-subtitle">Inicia sesión para continuar con tus análisis</p>
        </div>

        <div class="auth-toggle">
            <button class="auth-toggle-btn active" id="loginToggle">Iniciar Sesión</button>
            <button class="auth-toggle-btn" id="registerToggle">Registrarse</button>
        </div>

        <!-- Login Form -->
        <form class="auth-form login-form active" id="loginForm">
            <div class="form-group">
                <label for="loginUsername" class="form-label">
                    <i class="fas fa-user"></i>
                    Usuario o Email
                </label>
                <input 
                    type="text" 
                    id="loginUsername" 
                    class="form-input" 
                    placeholder="Ingresa tu usuario o email"
                    required
                >
            </div>

            <div class="form-group">
                <label for="loginPassword" class="form-label">
                    <i class="fas fa-lock"></i>
                    Contraseña
                </label>
                <div class="password-input-wrapper">
                    <input 
                        type="password" 
                        id="loginPassword" 
                        class="form-input" 
                        placeholder="Ingresa tu contraseña"
                        required
                    >
                    <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>

            <div class="form-options">
                <label class="checkbox-wrapper">
                    <input type="checkbox" id="rememberMe">
                    <span class="checkmark"></span>
                    Recordarme
                </label>
                <a href="#" class="forgot-password">¿Olvidaste tu contraseña?</a>
            </div>

            <button type="submit" class="btn btn-primary btn-auth" id="loginBtn">
                <span class="btn-text">Iniciar Sesión</span>
                <div class="btn-loading hidden">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </button>

            <div class="auth-divider">
                <span>o</span>
            </div>

            <button type="button" class="btn btn-secondary btn-demo" id="demoBtn">
                <i class="fas fa-play"></i>
                Probar Demo
            </button>
        </form>

        <!-- Register Form -->
        <form class="auth-form register-form" id="registerForm">
            <div class="form-group">
                <label for="registerUsername" class="form-label">
                    <i class="fas fa-user"></i>
                    Nombre de Usuario
                </label>
                <input 
                    type="text" 
                    id="registerUsername" 
                    class="form-input" 
                    placeholder="Elige un nombre de usuario"
                    required
                    minlength="3"
                >
            </div>

            <div class="form-group">
                <label for="registerEmail" class="form-label">
                    <i class="fas fa-envelope"></i>
                    Email
                </label>
                <input 
                    type="email" 
                    id="registerEmail" 
                    class="form-input" 
                    placeholder="tu@email.com"
                    required
                >
            </div>

            <div class="form-group">
                <label for="registerPassword" class="form-label">
                    <i class="fas fa-lock"></i>
                    Contraseña
                </label>
                <div class="password-input-wrapper">
                    <input 
                        type="password" 
                        id="registerPassword" 
                        class="form-input" 
                        placeholder="Crea una contraseña segura"
                        required
                        minlength="8"
                    >
                    <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <div class="password-requirements">
                    <small class="requirement" id="req-length">
                        <i class="fas fa-times"></i> Mínimo 8 caracteres
                    </small>
                    <small class="requirement" id="req-uppercase">
                        <i class="fas fa-times"></i> Una letra mayúscula
                    </small>
                    <small class="requirement" id="req-lowercase">
                        <i class="fas fa-times"></i> Una letra minúscula
                    </small>
                    <small class="requirement" id="req-number">
                        <i class="fas fa-times"></i> Un número
                    </small>
                    <small class="requirement" id="req-special">
                        <i class="fas fa-times"></i> Un carácter especial
                    </small>
                </div>
            </div>

            <div class="form-group">
                <label class="checkbox-wrapper">
                    <input type="checkbox" id="acceptTerms" required>
                    <span class="checkmark"></span>
                    Acepto los <a href="#" class="terms-link">términos y condiciones</a>
                </label>
            </div>

            <button type="submit" class="btn btn-primary btn-auth" id="registerBtn">
                <span class="btn-text">Crear Cuenta</span>
                <div class="btn-loading hidden">
                    <i class="fas fa-spinner fa-spin"></i>
                </div>
            </button>
        </form>

        <!-- Alert Messages -->
        <div class="alert alert-error hidden" id="errorAlert">
            <i class="fas fa-exclamation-circle"></i>
            <span id="errorMessage"></span>
        </div>

        <div class="alert alert-success hidden" id="successAlert">
            <i class="fas fa-check-circle"></i>
            <span id="successMessage"></span>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}