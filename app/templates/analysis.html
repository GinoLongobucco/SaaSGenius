{% extends "base.html" %}

{% block navbar_navigation %}
<ul class="nav-menu">
    <li class="nav-item">
        <a href="{{ url_for('main.index') }}" class="nav-link">Inicio</a>
    </li>
    <li class="nav-item">
        <a href="{{ url_for('main.dashboard') }}" class="nav-link">Dashboard</a>
    </li>
    <li class="nav-item">
        <a href="#contact" class="nav-link">Contacto</a>
    </li>
</ul>
{% endblock %}

{% block navbar_user %}
<div class="nav-user">
    <span class="analysis-title">Análisis Completo</span>
</div>
{% endblock %}

{% block content %}
<main class="main-content animate-fadeInUp">
    <div class="container">
        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <p>Cargando análisis...</p>
            </div>
        </div>

        <!-- Analysis Header -->
        <div class="analysis-header animate-fadeInUp">
            <a href="/dashboard" class="btn btn-ghost">
                <i class="fas fa-arrow-left"></i>
                Volver al Dashboard
            </a>
            <h1 class="analysis-title" id="projectTitle">Cargando...</h1>
            <p class="analysis-subtitle" id="projectDate">
                Análisis completo del proyecto
            </p>
        </div>

        <!-- Analysis Content -->
        <div class="analysis-grid animate-fadeInUp stagger-1 hidden" id="analysisContent">
            <!-- Resumen Ejecutivo -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-file-alt"></i>
                        Resumen Ejecutivo
                    </h2>
                </div>
                <div class="card-content">
                    <p id="executiveSummary">Cargando resumen...</p>
                </div>
            </div>

            <!-- Palabras Clave -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-tags"></i>
                        Palabras Clave
                    </h2>
                </div>
                <div class="card-content">
                    <div class="keywords-container" id="keywordsContainer">
                        <!-- Keywords will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Análisis de Mercado -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-chart-line"></i>
                        Análisis de Mercado
                    </h2>
                </div>
                <div class="card-content">
                    <div id="marketAnalysis">
                        <div class="market-metrics" id="marketMetrics">
                            <!-- Market metrics will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Características Principales -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-star"></i>
                        Características Principales
                    </h2>
                </div>
                <div class="card-content">
                    <ul class="features-list" id="coreFeatures">
                        <!-- Features will be populated here -->
                    </ul>
                </div>
            </div>

            <!-- Stack Tecnológico -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-code"></i>
                        Stack Tecnológico Recomendado
                    </h2>
                </div>
                <div class="card-content">
                    <div class="tech-stack" id="techStack">
                        <!-- Tech stack will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Metodología de Desarrollo -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-cogs"></i>
                        Metodología de Desarrollo
                    </h2>
                </div>
                <div class="card-content">
                    <div class="methodology-content" id="methodologyAnalysis">
                        <!-- Methodology analysis will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Hoja de Ruta -->
            <div class="card hover-lift">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-road"></i>
                        Hoja de Ruta de Desarrollo
                    </h2>
                </div>
                <div class="card-content">
                    <div class="roadmap-timeline" id="developmentRoadmap">
                        <!-- Roadmap will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
<script src="{{ url_for('static', filename='js/analysis.js') }}"></script>
{% endblock %}